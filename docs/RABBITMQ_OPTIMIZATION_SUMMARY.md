# Ø®Ù„Ø§ØµÙ‡ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ RabbitMQ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡

## ğŸ“… ØªØ§Ø±ÛŒØ®: 14 Ù†ÙˆØ§Ù…Ø¨Ø± 2025

---

## ğŸ¯ Ù‡Ø¯Ù

Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ø­ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ MetaTrader Ø§Ø²/Ø¨Ù‡ RabbitMQ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ performanceØŒ reliability Ùˆ scalability Ø³ÛŒØ³ØªÙ… Marathon Live Data.

---

## ğŸ“ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡

### 1. `docs/TOKYO_SERVICE_RABBITMQ_STRATEGY.md`
**Ù…Ø­ØªÙˆØ§**: Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬Ø§Ù…Ø¹ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡ Ø¯Ø± RabbitMQ

**Ø´Ø§Ù…Ù„**:
- 4 Ù†ÙˆØ¹ Ù¾ÛŒØ§Ù… (account, update, positions, orders)
- Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø§ Ú©Ø¯ Python Ú©Ø§Ù…Ù„
- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡ RabbitMQ
- Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ batching Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ overhead
- Ù…Ø¹ÛŒØ§Ø±Ù‡Ø§ÛŒ performance Ùˆ Ù…Ø­Ø§Ø³Ø¨Ø§Øª capacity
- Error handling Ùˆ monitoring
- Debugging Ùˆ troubleshooting

**Ù…Ø®Ø§Ø·Ø¨**: ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡ Tokyo Service (marathon-mt5-python)

---

### 2. `docs/TOKYO_SERVICE_PROMPT.md`
**Ù…Ø­ØªÙˆØ§**: Ù¾Ø±Ø§Ù…Ù¾Øª ÙØ´Ø±Ø¯Ù‡ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±ÛŒØ¹

**Ø´Ø§Ù…Ù„**:
- Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ¹ (Quick Reference)
- 4 Ù†ÙˆØ¹ Ù¾ÛŒØ§Ù… Ø¨Ø§ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ JSON
- Ú©Ø¯ Python Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ (Copy-Paste Ready)
- Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ø§Ù†Ø¨Ù†Ø¯ÛŒ Ø§Ø±Ø³Ø§Ù„
- Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù‚Ø¨Ù„ Ø§Ø² deploy
- Ù…Ø´Ú©Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„ Ùˆ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§
- Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªØ³Øª

**Ù…Ø®Ø§Ø·Ø¨**: Developer Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ø¯ Ø³Ø±ÛŒØ¹ Ø´Ø±ÙˆØ¹ Ú©Ù†Ø¯

---

## ğŸ”§ ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± Ú©Ø¯Ø¨ÛŒØ³ Marathon API

### 1. `src/marathon/live-account-data.service.ts`

#### ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡:

**Ø§Ù„Ù. Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† Metrics Ùˆ Monitoring:**
```typescript
// Metrics
private messageCount = 0;
private lastMessageTime: Date | null = null;
private readonly SNAPSHOT_TTL_MS = 120000; // 2 minutes
```

**Ø¨. Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† Health Check:**
```typescript
async getHealth(): Promise<RabbitMQHealth> {
  return {
    connected: this.isConnected(),
    queueName: this.queue,
    messageCount: this.messageCount,
    snapshotCount: this.snapshots.size,
    lastMessageTime: this.lastMessageTime,
  };
}

isConnected(): boolean {
  return !!(this.connection && this.channel);
}
```

**Ø¬. Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† Snapshot Cleanup:**
```typescript
private cleanStaleSnapshots(): void {
  const now = Date.now();
  let cleanedCount = 0;

  for (const [login, snapshot] of this.snapshots.entries()) {
    if (now - snapshot.updatedAt.getTime() > this.SNAPSHOT_TTL_MS) {
      this.snapshots.delete(login);
      cleanedCount++;
    }
  }
}
```

**Ø¯. Ø¨Ù‡Ø¨ÙˆØ¯ Queue Configuration:**
```typescript
await this.channel.assertQueue(this.queue, { 
  durable: true,
  arguments: {
    'x-message-ttl': 60000,  // Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø¨Ø¹Ø¯ Ø§Ø² 60 Ø«Ø§Ù†ÛŒÙ‡ expire Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
    'x-max-length': 10000,   // Ø­Ø¯Ø§Ú©Ø«Ø± 10000 Ù¾ÛŒØ§Ù… Ø¯Ø± queue
  }
});
```

**Ù‡. Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† Payload Validation:**
```typescript
private isValidPayload(payload: any): boolean {
  if (!payload || !payload.login) {
    return false;
  }

  if (payload.type === 'account' || payload.type === 'update') {
    const hasValidData = 
      (payload.balance !== undefined && typeof payload.balance === 'number') ||
      (payload.equity !== undefined && typeof payload.equity === 'number') ||
      (payload.profit !== undefined && typeof payload.profit === 'number');
    
    return hasValidData;
  }

  return true;
}
```

**Ùˆ. Ø¨Ù‡Ø¨ÙˆØ¯ Message Handling:**
```typescript
private handleMessage(message: amqp.ConsumeMessage | null) {
  // Update metrics
  this.messageCount++;
  this.lastMessageTime = new Date();

  // Validate payload
  if (!this.isValidPayload(payload)) {
    this.logger.warn(`Invalid payload: missing required fields`);
    continue;
  }

  // Debug logging every 100 messages
  if (this.messageCount % 100 === 0) {
    this.logger.debug(
      `Processed ${this.messageCount} messages. Active snapshots: ${this.snapshots.size}`
    );
  }
}
```

**Ø². Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† Interface:**
```typescript
export interface RabbitMQHealth {
  connected: boolean;
  queueName: string;
  messageCount: number;
  snapshotCount: number;
  lastMessageTime: Date | null;
}
```

---

### 2. `src/marathon/marathon.controller.ts`

#### ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡:

**Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù† RabbitMQ Health Endpoint:**
```typescript
@ApiOperation({ 
  summary: 'Get RabbitMQ connection health status',
  description: 'Returns the health status of RabbitMQ connection, message count, and snapshot statistics'
})
@ApiResponse({ 
  status: 200, 
  description: 'RabbitMQ health status',
  schema: { /* ... */ }
})
@Get('rabbitmq-health')
async getRabbitMQHealth() {
  return await this.liveAccountDataService.getHealth();
}
```

**Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡:**
```bash
# Ø¯Ø±ÛŒØ§ÙØª ÙˆØ¶Ø¹ÛŒØª RabbitMQ
curl -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  http://localhost:3000/apiv1/marathons/rabbitmq-health
```

**Response Ù…Ø«Ø§Ù„:**
```json
{
  "connected": true,
  "queueName": "socket_data",
  "messageCount": 1523,
  "snapshotCount": 45,
  "lastMessageTime": "2025-11-14T10:30:00.000Z"
}
```

---

### 3. `docker-compose.yml`

#### ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡:

**Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ RabbitMQ Service:**

```yaml
rabbitmq:
  image: rabbitmq:4-management
  environment:
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ performance
    RABBITMQ_VM_MEMORY_HIGH_WATERMARK: "0.6"
    RABBITMQ_DISK_FREE_LIMIT: "2GB"
    RABBITMQ_CHANNEL_MAX: "2048"
    RABBITMQ_FRAME_MAX: "131072"
    RABBITMQ_HEARTBEAT: "30"
  healthcheck:
    test: ["CMD", "rabbitmq-diagnostics", "-q", "ping"]
    interval: 30s
    timeout: 10s
    retries: 3
    start_period: 40s
```

**ØªÙˆØ¶ÛŒØ­Ø§Øª ØªÙ†Ø¸ÛŒÙ…Ø§Øª:**

| ØªÙ†Ø¸ÛŒÙ… | Ù…Ù‚Ø¯Ø§Ø± | ØªÙˆØ¶ÛŒØ­ |
|-------|-------|-------|
| `VM_MEMORY_HIGH_WATERMARK` | 0.6 | Ø§Ø³ØªÙØ§Ø¯Ù‡ ØªØ§ 60% Ø§Ø² RAM |
| `DISK_FREE_LIMIT` | 2GB | Ø­Ø¯Ø§Ù‚Ù„ 2GB ÙØ¶Ø§ÛŒ Ø¢Ø²Ø§Ø¯ Ø¯ÛŒØ³Ú© |
| `CHANNEL_MAX` | 2048 | Ø­Ø¯Ø§Ú©Ø«Ø± 2048 channel Ù‡Ù…Ø²Ù…Ø§Ù† |
| `FRAME_MAX` | 131072 | Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ù†Ø¯Ø§Ø²Ù‡ frame (128KB) |
| `HEARTBEAT` | 30 | heartbeat Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡ |

---

## ğŸ“Š Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¯Ù‡

### Ù†ÙˆØ¹â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù… Ùˆ ÙØ±Ú©Ø§Ù†Ø³ Ø§Ø±Ø³Ø§Ù„

| Ù†ÙˆØ¹ Ù¾ÛŒØ§Ù… | ÙØ±Ú©Ø§Ù†Ø³ | Ø­Ø¬Ù… ØªÙ‚Ø±ÛŒØ¨ÛŒ | Ø§Ø³ØªÙØ§Ø¯Ù‡ |
|----------|---------|------------|----------|
| `account` (Full Snapshot) | Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡ | 500-1000 bytes | Heartbeat + Initial |
| `update` (Incremental) | Ù‡Ø± 3-5 Ø«Ø§Ù†ÛŒÙ‡ | 100-200 bytes | ØªØºÛŒÛŒØ±Ø§Øª Ø³Ø±ÛŒØ¹ |
| `positions` | ÙÙˆØ±ÛŒ + Ù‡Ø± 5 Ø«Ø§Ù†ÛŒÙ‡ | 300-500 bytes | ØªØºÛŒÛŒØ± positions |
| `orders` | ÙÙˆØ±ÛŒ + Ù‡Ø± 10 Ø«Ø§Ù†ÛŒÙ‡ | 200-400 bytes | ØªØºÛŒÛŒØ± orders |

### Ù…Ø²Ø§ÛŒØ§ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø¬Ø¯ÛŒØ¯

#### 1. Ú©Ø§Ù‡Ø´ Ø­Ø¬Ù… Ø¯Ø§Ø¯Ù‡ (70-80%)
- Ù‚Ø¨Ù„Ø§Ù‹: Ø§Ø±Ø³Ø§Ù„ full snapshot Ù‡Ø± 3-5 Ø«Ø§Ù†ÛŒÙ‡
- Ø­Ø§Ù„Ø§: Ø§Ø±Ø³Ø§Ù„ incremental update + full snapshot Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡

**Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
Ù‚Ø¨Ù„Ø§Ù‹: 1000 bytes Ã— 20 msg/min = 20 KB/min per account
Ø­Ø§Ù„Ø§: (200 bytes Ã— 18) + (1000 bytes Ã— 2) = 5.6 KB/min per account
Ú©Ø§Ù‡Ø´: 72% Ø­Ø¬Ù… Ø¯Ø§Ø¯Ù‡ Ú©Ù…ØªØ±
```

#### 2. Ø§ÙØ²Ø§ÛŒØ´ Throughput
- Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² batching (Ú†Ù†Ø¯ Ù¾ÛŒØ§Ù… Ø¯Ø± ÛŒÚ© message)
- Ú©Ø§Ù‡Ø´ 60-70% ØªØ¹Ø¯Ø§Ø¯ network calls
- Ø¨Ù‡Ø¨ÙˆØ¯ latency Ø¯Ø± Ø§Ø±Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒ Ø¯Ø± Ù¾ÛŒ

#### 3. Ø¨Ù‡Ø¨ÙˆØ¯ Reliability
- Message TTL Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² queue overflow
- Queue length limit Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² memory
- Snapshot cleanup Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ
- Payload validation Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹ÛŒÙˆØ¨

#### 4. Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Monitoring
- Metrics: ØªØ¹Ø¯Ø§Ø¯ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø´Ø¯Ù‡
- Health check: ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ Ùˆ Ø¢Ù…Ø§Ø±
- Debug logging: Ù‡Ø± 100 Ù¾ÛŒØ§Ù… ÛŒÚ© Ù„Ø§Ú¯
- Stale snapshot cleanup: Ø­Ø°Ù Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ

---

## ğŸ“ˆ Capacity Planning

### ØªØ³Øª Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ:
- **Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù†**: ØªØ§ 500 Ø­Ø³Ø§Ø¨
- **Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡**: ~1400-3200 Ù¾ÛŒØ§Ù… (Ø¨Ø±Ø§ÛŒ 100 Ø­Ø³Ø§Ø¨)
- **Ù¾Ù‡Ù†Ø§ÛŒ Ø¨Ø§Ù†Ø¯**: ~4.5-10 KB/Ø«Ø§Ù†ÛŒÙ‡ (Ø¨Ø±Ø§ÛŒ 100 Ø­Ø³Ø§Ø¨)

### Ø¨Ø±Ø§ÛŒ 500 Ø­Ø³Ø§Ø¨:
- **Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡**: ~7000-16000
- **Ù¾Ù‡Ù†Ø§ÛŒ Ø¨Ø§Ù†Ø¯**: ~22-50 KB/Ø«Ø§Ù†ÛŒÙ‡
- **RAM Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² (RabbitMQ)**: ~512MB-1GB
- **RAM Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² (Marathon API snapshots)**: ~50-100MB

---

## âœ… Ù†ØªØ§ÛŒØ¬ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ

### Performance
- âœ… Ú©Ø§Ù‡Ø´ 72% Ø­Ø¬Ù… Ø¯Ø§Ø¯Ù‡ Ø§Ø±Ø³Ø§Ù„ÛŒ
- âœ… Ú©Ø§Ù‡Ø´ 60-70% ØªØ¹Ø¯Ø§Ø¯ network calls
- âœ… Ø¨Ù‡Ø¨ÙˆØ¯ latency Ø¯Ø± peak times
- âœ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² 500+ Ø­Ø³Ø§Ø¨ Ù‡Ù…Ø²Ù…Ø§Ù†

### Reliability
- âœ… Message validation Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹ÛŒÙˆØ¨
- âœ… Automatic cleanup Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ
- âœ… TTL Ùˆ length limits Ø¨Ø±Ø§ÛŒ queue
- âœ… Health check endpoint Ø¨Ø±Ø§ÛŒ monitoring

### Maintainability
- âœ… Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¬Ø§Ù…Ø¹ Ø¨Ø±Ø§ÛŒ Tokyo Service
- âœ… Ù¾Ø±Ø§Ù…Ù¾Øª Ø³Ø±ÛŒØ¹ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ø§Ø±
- âœ… Debug logging Ø¨Ø±Ø§ÛŒ troubleshooting
- âœ… Metrics Ø¨Ø±Ø§ÛŒ monitoring Ùˆ alerting

---

## ğŸš€ Ù…Ø±Ø§Ø­Ù„ Ø¨Ø¹Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ ØªÛŒÙ… Tokyo Service

### 1. Ù…Ø·Ø§Ù„Ø¹Ù‡ Ù…Ø³ØªÙ†Ø¯Ø§Øª
- [ ] Ø®ÙˆØ§Ù†Ø¯Ù† `TOKYO_SERVICE_RABBITMQ_STRATEGY.md`
- [ ] Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø¯ Ù†Ù…ÙˆÙ†Ù‡ Python
- [ ] Ø¯Ø±Ú© 4 Ù†ÙˆØ¹ Ù¾ÛŒØ§Ù… Ùˆ Ø²Ù…Ø§Ù†Ø¨Ù†Ø¯ÛŒ Ø¢Ù†â€ŒÙ‡Ø§

### 2. Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† RabbitMQ connection Ø¨Ø§ retry logic
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ 4 Ù†ÙˆØ¹ Ù¾ÛŒØ§Ù…
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† timestamp Ø¨Ù‡ Ù‡Ù…Ù‡ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§
- [ ] ØªØ¨Ø¯ÛŒÙ„ login Ø¨Ù‡ string
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ error handling

### 3. ØªØ³Øª
- [ ] ØªØ³Øª Ø¨Ø§ ÛŒÚ© Ø­Ø³Ø§Ø¨ MT5
- [ ] Ø¨Ø±Ø±Ø³ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø¯Ø± RabbitMQ Management UI
- [ ] Ø¨Ø±Ø±Ø³ÛŒ logs Ø¯Ø± Marathon API
- [ ] ØªØ³Øª WebSocket connection
- [ ] ØªØ³Øª Ø¨Ø§ Ú†Ù†Ø¯ Ø­Ø³Ø§Ø¨ Ù‡Ù…Ø²Ù…Ø§Ù†

### 4. Monitoring
- [ ] Ø¨Ø±Ø±Ø³ÛŒ `/apiv1/marathons/rabbitmq-health`
- [ ] Ù…Ø§Ù†ÛŒØªÙˆØ± Ú©Ø±Ø¯Ù† RabbitMQ metrics
- [ ] Ø¨Ø±Ø±Ø³ÛŒ logs Ø¨Ø±Ø§ÛŒ errors
- [ ] Load testing Ø¨Ø§ ØªØ¹Ø¯Ø§Ø¯ Ø²ÛŒØ§Ø¯ Ø­Ø³Ø§Ø¨

---

## ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯

- **Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ú©Ø§Ù…Ù„**: [TOKYO_SERVICE_RABBITMQ_STRATEGY.md](./TOKYO_SERVICE_RABBITMQ_STRATEGY.md)
- **Ù¾Ø±Ø§Ù…Ù¾Øª Ø³Ø±ÛŒØ¹**: [TOKYO_SERVICE_PROMPT.md](./TOKYO_SERVICE_PROMPT.md)
- **ÙØ±Ù…Øª Ø¯Ø§Ø¯Ù‡**: [TOKYO_SERVICE_DATA_FORMAT.md](./TOKYO_SERVICE_DATA_FORMAT.md)
- **WebSocket API**: [WEBSOCKET.md](./WEBSOCKET.md)
- **RabbitMQ Management**: http://localhost:15672 (guest/guest)
- **Swagger UI**: http://localhost:3000/swagger

---

## ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

**Ø³ÙˆØ§Ù„Ø§ØªØŸ**
- ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡ Marathon API Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ù…Ú© Ø§Ø³Øª
- Ø¨Ø±Ø±Ø³ÛŒ logs: `docker-compose logs -f marathon-api rabbitmq`
- ØªØ³Øª health: `GET /apiv1/marathons/rabbitmq-health`

---

## ğŸ“ Checklist Ù†Ù‡Ø§ÛŒÛŒ

### Ø¨Ø±Ø§ÛŒ ØªÛŒÙ… Marathon API:
- [x] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ LiveAccountDataService
- [x] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† health check endpoint
- [x] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ docker-compose
- [x] Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¬Ø§Ù…Ø¹
- [x] ØªØ³Øª lint errors
- [ ] Deploy Ùˆ monitoring Ø¯Ø± production

### Ø¨Ø±Ø§ÛŒ ØªÛŒÙ… Tokyo Service:
- [ ] Ù…Ø·Ø§Ù„Ø¹Ù‡ Ù…Ø³ØªÙ†Ø¯Ø§Øª
- [ ] Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø¬Ø¯ÛŒØ¯
- [ ] ØªØ³Øª Ø¯Ø± development
- [ ] ØªØ³Øª Ø¯Ø± staging
- [ ] Deploy Ø¯Ø± production
- [ ] Monitoring Ùˆ optimization

---

**ØªØ§Ø±ÛŒØ® Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ**: 14 Ù†ÙˆØ§Ù…Ø¨Ø± 2025  
**Ù†Ø³Ø®Ù‡**: 1.0  
**ÙˆØ¶Ø¹ÛŒØª**: âœ… Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± production




